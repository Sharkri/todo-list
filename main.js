(()=>{"use strict";const e=function(){const e=n("todos"),t=n("inbox"),o=n("projects");function c(e,t){localStorage.setItem(e,JSON.stringify(t))}function n(e){return JSON.parse(localStorage.getItem(e))||[]}function r(t,o,n,r,d){return e.push({projectName:t,title:o,description:n,dueDate:r,priority:d}),c("todos",e),{projectName:t,title:o,description:n,dueDate:r,priority:d}}return{createTodo:r,createProject:function(e){const t=[];function n(e,o,c,n,d){const s=r(e,o,c,n,d);t.push(s)}return o.push({name:e,todos:t,addTodo:n}),c("projects",o),{name:e,todos:t,addTodo:n}},removeProject:function(e){o.splice(e,1),c("projects",o)},getTodos:()=>e,getProjects:()=>o,getInbox:()=>t}}();!function(){const t=document.querySelector(".modal"),o=document.querySelector(".modal-form"),c=document.querySelector(".add-project-modal"),n=document.querySelector(".delete-modal"),r=document.querySelectorAll(".cancel"),d=document.querySelector(".submit"),s=document.querySelector(".submit-todo"),l=document.querySelector(".delete"),i=document.querySelector(".open-project > svg"),a=document.querySelector(".projects"),u=document.querySelector(".add-todo"),m=document.querySelector(".projectTab"),p=document.querySelectorAll(".links div"),g=document.querySelector(".hamburger"),L=document.querySelector(".sidebar");for(let t of e.getProjects())S(t.name);function v(e,t){document.querySelector(".main-header").textContent=e}function S(e){const t=document.createElement("div"),o=document.createElement("div"),c=document.createElement("button");t.classList.add("project"),o.classList.add("project-left"),c.classList.add("project-right");const n=q("M5,9.5L7.5,14H2.5L5,9.5M3,4H7V8H3V4M5,20A2,2 0 0,0 7,18A2,2 0 0,0 5,16A2,2 0 0,0 3,18A2,2 0 0,0 5,20M9,5V7H21V5H9M9,19H21V17H9V19M9,13H21V11H9V13Z","currentColor"),r=document.createElement("span");r.textContent=e,r.classList.add("project-title");const d=q("M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z","currentColor");d.classList.add("delete-svg"),o.appendChild(n),o.appendChild(r),c.appendChild(d),t.appendChild(o),t.appendChild(c),a.appendChild(t)}function y(){document.querySelectorAll(".active").forEach((e=>e.classList.remove("active")))}function f(){t.classList.remove("open");for(let e=0;e<t.childElementCount;e++)t.children[e].classList.remove("open")}function h(){const e=document.querySelector(".project.active");return Array.from(a.children).indexOf(e)}function q(e,t){const o=document.createElementNS("http://www.w3.org/2000/svg","svg"),c=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("viewBox","0 0 24 24"),c.setAttribute("fill",t),c.setAttribute("d",e),o.appendChild(c),o}v("Inbox"),u.addEventListener("click",(()=>{const o=document.querySelector(".add-todo-modal");t.classList.add("open"),o.classList.add("open");const c=document.querySelector("#project");c.innerHTML="<option value='Inbox'>Inbox</option";for(const t of e.getProjects()){let e=document.createElement("option"),o=t.name;t.name.length>20&&(o=t.name.substring(0,20)+"..."),e.value=o,e.textContent=o,c.appendChild(e)}})),p.forEach((e=>{e.addEventListener("click",(()=>{y(),e.classList.toggle("active"),v(e.textContent)}))})),a.addEventListener("click",(o=>{o.target.closest(".project-right")&&(t.classList.add("open"),n.classList.add("open"));const c=o.target.closest(".project");y(),c.classList.add("active");const r=h(),d=e.getProjects(),s=d[r].name;d[r].todos,v(s)})),m.addEventListener("click",(e=>{if(e.target.contains(i))return a.classList.toggle("closed"),void i.classList.toggle("rotated");t.classList.toggle("open"),c.classList.toggle("open"),console.log(c.classList),o.reset()})),r.forEach((e=>{e.addEventListener("click",f)})),d.addEventListener("click",(()=>{const t=document.querySelector("#name").value;t&&(f(),e.createProject(t),S(t))})),s.addEventListener("click",(e=>{document.querySelector("#todo-title"),document.querySelector("#description"),document.querySelector("#due-date"),document.querySelector("#project")})),l.addEventListener("click",(()=>{let t=document.querySelector(".inbox"),o=h(),c=a.children[o];e.removeProject(o),a.removeChild(c),f(),v("Inbox"),t.classList.add("active")})),g.addEventListener("click",(()=>{document.querySelector("body").classList.toggle("sidebar-hidden"),L.classList.toggle("hidden")}))}()})();